{% extends "find_pp2m/base_maps.html" %}
{% load bootstrap %}

{% block title %}PP2M{% endblock %}


{% block content %}
    <script>
        var nb_cities = 3
        function hide_cities() {
            if (nb_cities <= 2) {
                alert("Can not find less than two cities.");
            } else {
                if (nb_cities < 10) {
                    var str_city = "city_0" + nb_cities;
                } else {
                    var str_city = "city_" + nb_cities;
                }
                var str_id_city = "id_" + str_city;
                document.getElementById(str_city).style.display = "none";
                document.getElementById(str_id_city).value = "";
                nb_cities = nb_cities - 1;
            }
        }
        function show_cities() {
            if (nb_cities >= 20) {
                alert("Can not find more than twenty cities.");
            } else {
                nb_cities = nb_cities + 1;
                if (nb_cities < 10) {
                    var str_city = "city_0" + nb_cities;
                } else {
                    var str_city = "city_" + nb_cities;
                }
                document.getElementById(str_city).style.display = "block";
            }
        }
        function show_hide_infos() {
            if (document.getElementById("infos").style.display == "block") {
                document.getElementById("infos").style.display = "none"
            } else {
                document.getElementById("infos").style.display = "block"
            }
        }
    </script>
    <div class="container">
        <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
            <div class="form-group">
                {% if envoi %}Votre message a bien été envoyé !{% endif %}
                <form action="{% url 'pp2m:pp2m_form' %}" method="post">
                    {% csrf_token %}
                    <div id="city_01">{{ form.city_01 | bootstrap_horizontal }}</div>
                    <div id="city_02">{{ form.city_02 | bootstrap_horizontal }}</div>
                    <div id="city_03">{{ form.city_03 | bootstrap_horizontal }}</div>
                    <div id="city_04" style="display: none;">{{ form.city_04 | bootstrap_horizontal }}</div>
                    <div id="city_05" style="display: none;">{{ form.city_05 | bootstrap_horizontal }}</div>
                    <div id="city_06" style="display: none;">{{ form.city_06 | bootstrap_horizontal }}</div>
                    <div id="city_07" style="display: none;">{{ form.city_07 | bootstrap_horizontal }}</div>
                    <div id="city_08" style="display: none;">{{ form.city_08 | bootstrap_horizontal }}</div>
                    <div id="city_09" style="display: none;">{{ form.city_09 | bootstrap_horizontal }}</div>
                    <div id="city_10" style="display: none;">{{ form.city_10 | bootstrap_horizontal }}</div>
                    <div id="city_11" style="display: none;">{{ form.city_11 | bootstrap_horizontal }}</div>
                    <div id="city_12" style="display: none;">{{ form.city_12 | bootstrap_horizontal }}</div>
                    <div id="city_13" style="display: none;">{{ form.city_13 | bootstrap_horizontal }}</div>
                    <div id="city_14" style="display: none;">{{ form.city_14 | bootstrap_horizontal }}</div>
                    <div id="city_15" style="display: none;">{{ form.city_15 | bootstrap_horizontal }}</div>
                    <div id="city_16" style="display: none;">{{ form.city_16 | bootstrap_horizontal }}</div>
                    <div id="city_17" style="display: none;">{{ form.city_17 | bootstrap_horizontal }}</div>
                    <div id="city_18" style="display: none;">{{ form.city_18 | bootstrap_horizontal }}</div>
                    <div id="city_19" style="display: none;">{{ form.city_19 | bootstrap_horizontal }}</div>
                    <div id="city_20" style="display: none;">{{ form.city_20 | bootstrap_horizontal }}</div>
                    {{ form.method | bootstrap_horizontal }}
                    {{ form.criteria | bootstrap_horizontal }}
                    <input type="submit" value="Go" id="submit_button"/>
                </form>
            </div>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
            <button type="button" onclick="hide_cities()" id="submit_button">-</button>
            <input type="reset" id="submit_button"/>
            <button type="button" onclick="show_cities()" id="submit_button">+</button>
        </div>
    </div>
    <div>
        <button type="button" onclick="show_hide_infos()" id="information_button">Infos</button>
    </div>
    <div id="infos" style="display: none;">
        <p>Pour trouver l'endroit parfait pour se retrouver, sélectionnez les villes et appuyez sur 'Go'</p>
        <p>Vous pouvez diminuer ou augmenter le nombre de villes avec les boutons - et +</p>
        <p>Trois modes de calcul sont disponibles: le temps de trajet en voiture, la distance en voiture et la distance à vol d'oiseau</p>
        <p>Le critère 'collectif' donne les résultats en sommant les déplacements de tout le monde</p>
        <p>Le critère 'individuel' donne les résultats en prenant le déplacement le plus long pour une personne</p>
    </div>
{% endblock %}
